import { pre } from '@grammyjs/parse-mode'
import { autoQuote } from '@roziscoding/grammy-autoquote'
import { Composer, Context, InputFile } from "grammy"
import type { Sticker } from "grammy/out/types"
import { pluralize } from "numeralize-ru"
import { COFFEE_STICKERS, SHOCK_PATALOCK, TEA_STICKERS, TOKU_CHAT, WORLD_TRIGGER, PON_STICKER, ALCO_STICKERS, TEA_EMOJIS, ALCO_EMOJIS, COFFEE_EMOJIS, NOT_TOMORROW, NADEKO_CALLING, TOMORROW, ADMINS, MONOKUMA, COUNTER, RUBY_MEOW, EIGHTY_SIX, DRAGONBALL, TOMORROW_HAPPY, PATPAT, KUGA_YUMA, LELOUCH_ID, UNDEAD, UNLUCK, NORMIES, KAZAKHSTAN, FIRST_YEAR_SUMMER, TORU, MAHO_AKO, CAT_TORU, SIN, VIK_TORU, BEESAKI, RUINA, YBbI, TRIGGER_GIRLS, YBbI_2, SHOCK_ID, CENTER_PHOTOS, FIFTY_TWO } from "../constants"
import { DrinkCounters } from "../data"
import { choice, isAdmin } from '../utils'
import { actions, choiced, triggerKeeper, triggers } from './trigger-keeper'
import { isUserHasId } from 'grammy-guard'

export const fun = new Composer
const quoted = fun.use(autoQuote)

const drinksCounters = DrinkCounters.fromFileSyncSafe('data/drinks.json')
const ENABLE_EMOJI = false

const THROTTLE_TIME = 5 * 60 * 1000
let lastTime = 0
const debounced = quoted.filter(_ => Date.now() > lastTime + 5 * 60 * 1000)

quoted.on('msg').filter(ctx => ctx.message?.sender_chat?.id == LELOUCH_ID, async (ctx, next) => {
    await ctx.api.setMessageReaction(ctx.msg.chat.id, ctx.msg.message_id, [{
        type: 'emoji',
        emoji: choice(["üëç", "üëé", "‚ù§", "üî•", "ü•∞", "üëè", "üòÅ", "ü§î", "ü§Ø", "üò±", "ü§¨", "üò¢", "üéâ", "ü§©", "ü§Æ", "üí©", "üôè", "üëå", "üïä", "ü§°", "ü•±", "ü•¥", "üòç", "üê≥", "‚ù§‚Äçüî•", "üåö", "üå≠", "üíØ", "ü§£", "‚ö°", "üçå", "üèÜ", "üíî", "ü§®", "üòê", "üçì", "üçæ", "üíã", "üñï", "üòà", "üò¥", "üò≠", "ü§ì", "üëª", "üë®‚Äçüíª", "üëÄ", "üéÉ", "üôà", "üòá", "üò®", "ü§ù", "‚úç", "ü§ó", "ü´°", "üéÖ", "üéÑ", "‚òÉ", "üíÖ", "ü§™", "üóø", "üÜí", "üíò", "üôâ", "ü¶Ñ", "üòò", "üíä", "üôä", "üòé", "üëæ", "ü§∑‚Äç‚ôÇ", "ü§∑", "ü§∑‚Äç‚ôÄ", "üò°"])
    }])
    await next()
})

const or = (a: (ctx: Context) => boolean, b: (ctx: Context) => boolean) => (ctx: Context) => a(ctx) || b(ctx)

const hasCaptionHashtag = (hashtag: string | string[]) => (ctx: Context) => {
    const caption = ctx.msg?.caption
    const entities = ctx.msg?.caption_entities
    if (!caption || !entities) {
        return false
    }
    const hastags = Array.isArray(hashtag) ? hashtag : [hashtag]
    return entities.some(v => v.type == 'hashtag' && hastags.includes(caption.slice(v.offset, v.offset + v.length)))
}

const hasMessageHashtag = (hashtag: string | string[]) => (ctx: Context) => {
    const caption = ctx.msg?.text
    const entities = ctx.msg?.entities
    if (!caption || !entities) {
        return false
    }
    const hastags = Array.isArray(hashtag) ? hashtag : [hashtag]
    return entities.some(v => v.type == 'hashtag' && hastags.includes(caption.slice(v.offset, v.offset + v.length)))
}

const hasHashtag = (hashtag: string | string[]) => or(hasMessageHashtag(hashtag), hasCaptionHashtag(hashtag))

quoted.on(':caption_entities:hashtag').filter(hasCaptionHashtag('#dunmeshi'), async (ctx, next) => {
    await ctx.api.setMessageReaction(ctx.msg.chat.id, ctx.msg.message_id, [{
        type: 'emoji',
        emoji: "‚ù§"
    }])
    await next()
})

quoted.on('edit:caption_entities:hashtag').filter(hasCaptionHashtag('#dunmeshi'), async (ctx, next) => {
    await ctx.api.setMessageReaction(ctx.msg.chat.id, ctx.msg.message_id, [{
        type: 'emoji',
        emoji: "‚ù§"
    }])
    await next()
})

const ruinaTags = hasHashtag(['#Lobotomy_corporation', '#Library_of_ruina', '#Limbus_company'])
quoted.on([':caption_entities:hashtag', 'edit:caption_entities:hashtag', '::hashtag', 'edit::hashtag'])
    .filter(ruinaTags, async (ctx, next) => {
        if (ctx.msg.reply_to_message && ctx.msg.reply_to_message.photo) {
            console.log(ctx.msg.reply_to_message)
            await ctx.api.setMessageReaction(ctx.msg.reply_to_message.chat.id, ctx.msg.reply_to_message.message_id, [{
                type: 'emoji',
                emoji: "‚ù§"
            }])
        }
        await ctx.api.setMessageReaction(ctx.msg.chat.id, ctx.msg.message_id, [{
            type: 'emoji',
            emoji: "‚ù§"
        }])
        await next()
    })

fun.use(triggerKeeper([
    triggers.regex('–ø(–∞|a)—Ç(–∞|a)–ª(–æ|o)–∫|501\\s?271|–æ–±–ª–∞—Å—Ç—å', actions.reply.audio(SHOCK_PATALOCK)),
    triggers.wholeWord('–ø–æ–Ω', actions.reply.sticker(PON_STICKER)),
    triggers.wholeWord('–∞–ª–æ|–∞–ª–ª–æ|–∞–ª—ë', actions.reply.gif(NADEKO_CALLING)),
    triggers.regex('–ø–∏–¥–æ—Ä', actions.reply.text('–û–ë–ù–ê–†–£–ñ–ï–ù–ê –î–ï–ú–û–ù–ò–ß–ï–°–ö–ê–Ø –£–ì–†–û–ó–ê')),
    triggers.regex('–Ω–µ\\s+–µ—à—å', actions.preciseReply.text('–ù—è–º!')),
    triggers.regex('–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏', actions.reply.gif(COUNTER)),
    triggers.regex('–†—É–±–∏ –º—è—É', actions.reply.voice(choiced(RUBY_MEOW))),
    triggers.throttled(THROTTLE_TIME).regex('([^\\d]|^)86([^\\d]|$)|–≤–æ—Å–µ–º—å–¥–µ—Å—è—Ç —à–µ—Å—Ç—å', actions.reply.photo(EIGHTY_SIX)),
    triggers.throttled(THROTTLE_TIME).regex('–∞–Ω–ª–∞–∫', actions.reply.sticker(choiced([UNDEAD, UNLUCK]))),
    triggers.throttled(THROTTLE_TIME).probability(1 / 10).wholeWord('–¥–±', actions.reply.sticker(DRAGONBALL)),
    triggers.throttled(THROTTLE_TIME).probability(1 / 10).regex('–¥—Ä–∞–≥–æ–Ω–±–æ–ª', actions.reply.video(DRAGONBALL)),
    triggers.throttled(THROTTLE_TIME).probability(1 / 4).regex('—Ç—Ä–∏–≥–≥–µ—Ä', actions.reply.photo(choiced(KUGA_YUMA.concat(TRIGGER_GIRLS)))),
    triggers.throttled(THROTTLE_TIME).regex('–Ω–æ—Ä–º–∏—Å', actions.reply.photo(NORMIES)),
    triggers.throttled(THROTTLE_TIME).regex('–∫–∞–∑–∞—Ö—Å—Ç–∞–Ω|–∫–∞—Ä–∞–≥–∞–Ω–¥', actions.reply.photo(KAZAKHSTAN)),
    triggers.throttled(THROTTLE_TIME).regex('([^\\d]|^)121([^\\d]|$)|–ª–µ—Ç–æ –ø–µ—Ä–≤–æ–≥–æ –≥–æ–¥–∞', actions.reply.gif(FIRST_YEAR_SUMMER)),
    triggers.throttled(THROTTLE_TIME).regex('–≤–∏–∫—Ç–æ—Ä—É', actions.reply.gif(VIK_TORU)),
    triggers.throttled(THROTTLE_TIME).regex('mahoako|–º–∞—Ö–æ–∞–∫–æ', actions.reply.sticker(MAHO_AKO)),
    triggers.throttled(THROTTLE_TIME).regex('–≥—Ä–µ—Ö', actions.reply.photo(SIN)),
    triggers.throttled(THROTTLE_TIME).wholeWord('–∂–∞–ª—å', actions.preciseReply.sticker(BEESAKI)),
    triggers.throttled(THROTTLE_TIME).regex('—Ä—É–∏–Ω–∞', actions.reply.sticker(RUINA)),
    triggers.throttled(THROTTLE_TIME).regex('([^\\d]|^)52([^\\d]|$)|–ø—è—Ç—å–¥–µ—Å—è—Ç –¥–≤–∞|–ø–∏—Å—è—Ç–¥–≤–∞', actions.reply.gif(FIFTY_TWO))
]))

quoted.hears(/(\P{L}|^)–±–∞–Ω(\P{L}|$)/gimu).filter(
    isAdmin,
    ctx => ctx.replyWithAnimation(MONOKUMA)
)

quoted.command(
    'inspect',
    ctx => {
        const text = JSON.stringify(ctx.msg.reply_to_message, null, 2)
        if (text.length > 2048) {
            return ctx.replyWithDocument(new InputFile(Buffer.from(text), 'inspect.json'))
        }
        const msg = pre(JSON.stringify(ctx.msg.reply_to_message, null, 2), 'json')
        return ctx.reply(msg.toString(), { entities: msg.entities })
    }
)

const allSlanders = [
    'https://t.me/c/2000257215/108',
    'https://t.me/c/2000257215/109',
    'https://t.me/c/2000257215/110',
    'https://t.me/c/2000257215/111',
    'https://t.me/c/2000257215/112',
    'https://t.me/c/2000257215/8948',
    'https://t.me/c/2000257215/97105',
    'https://t.me/c/2000257215/204238',
    'https://t.me/c/2000257215/539144',
]

quoted.command('slander', ctx => {
    const slander = Number(ctx.match)
    if (isFinite(slander) && slander > 0 && slander <= allSlanders.length) {
        return ctx.reply(allSlanders[slander - 1])
    } else {
        return ctx.reply(`–í—Å–µ —Å–ª–µ–Ω–¥–µ—Ä—ã:\n${allSlanders.join('\n')}\n\n–°–ª–µ–¥—É—é—â–∏–π —Å–ª–µ–Ω–¥–µ—Ä: ???`)
    }
})

quoted.filter(ctx => ctx.msg?.sticker?.file_unique_id == 'AgADjRQAAqfaKUs', ctx => ctx.replyWithAnimation(PATPAT))

quoted.hears(/^–†—É–±–∏,? (.+?) –∏–ª–∏ (.+?)\??$/i, async ctx => {
    const a = ctx.match[1]
    const b = ctx.match[2]
    let res: string
    const random = Math.random()
    const donuts = 0.99
    console.log(random)
    if (a.toLowerCase() == '–∏–ª–∏' || b.toLowerCase() == '–∏–ª–∏' || random > donuts) {
        res = '–ü–æ–Ω—á–∏–∫–∏'
    } else if (random <= donuts * 0.5) {
        res = a[0].toUpperCase() + a.slice(1)
    } else {
        res = b[0].toUpperCase() + b.slice(1)
    }
    await ctx.reply(res)
})

quoted.on(':sticker').filter(ctx => ctx.msg.chat.id == TOKU_CHAT, async ctx => {
    let drink: string
    let count: number
    let emoji: string
    let achivement = ''

    const stickerType = classifySticker(ctx.msg.sticker)

    if (!stickerType) {
        return
    }

    switch (stickerType) {
        case 'tea':
            drinksCounters.tea += 1
            drink = '—á—è'
            count = drinksCounters.tea
            emoji = TEA_EMOJIS[0]
            switch (count) {
                case 1:
                    achivement = '–ß–∞–π –±—É—à?'
                    break
                case 28:
                    achivement = '–í—ã –≤—ã–ø–∏–ª–∏ –≤–µ–¥—Ä–æ —á—è :0'
                    break
                case 75:
                    achivement = '–•–≤–∞—Ç–∏—Ç –Ω–∞ –∞–∫–≤–∞—Ä–∏—É–º. –° —á–∞–µ–º.'
                    break
                case 80:
                    achivement = '"–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –¥–µ–Ω—å —Å–µ–≥–æ–¥–Ω—è. –¢–æ –ª–∏ —á–∞–π –ø–æ–π—Ç–∏ –≤—ã–ø–∏—Ç—å, —Ç–æ –ª–∏ –ø–æ–≤–µ—Å–∏—Ç—å—Å—è." (–ø—Ä–∏–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ê.–ü.–ß–µ—Ö–æ–≤—É)'
                    break
                case 90:
                    achivement = '"–ß–∞–π! –í–æ—Ç —á—Ç–æ –º–Ω–µ –±—ã–ª–æ –Ω—É–∂–Ω–æ! –•–æ—Ä–æ—à–∞—è —á–∞—à–∫–∞ —á–∞—è! –ü–µ—Ä–µ–≥—Ä–µ—Ç—ã–π –Ω–∞—Å—Ç–æ–π —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Ä–∞–¥–∏–∫–∞–ª–æ–≤ –∏ —Ç–∞–Ω–∏–Ω–∞, –æ–Ω –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è." (c) 10 –î–æ–∫—Ç–æ—Ä'
                case 100:
                    achivement = '–¢–≤–æ–π —á–π –ø—Ä–æ–Ω–∑–∏—Ç –Ω–µ–±–µ—Å–∞!'
                    break
                case 110:
                    achivement = '‚Äî –•–æ—á–µ—à—å —á–∞—é?\n‚Äî –•–º... –ß–∞–π... –ú—ã —Ç–æ–ª—å–∫–æ –∏ –¥–µ–ª–∞–µ–º —Ç—É—Ç, —á—Ç–æ –ø—å–µ–º —á–∞–π. –ü–æ—Ä–∞–∂–∞—é—Å—å, –∫–∞–∫ –º—ã –≤ –Ω–µ–º –µ—â–µ –Ω–µ –∑–∞—Ö–ª–µ–±–Ω—É–ª–∏—Å—å.\n(–û—Ç–≥–æ–ª–æ—Å–∫–∏ –ø—Ä–æ—à–ª–æ–≥–æ)'
                    break
                case 120:
                    achivement = '–ß–∞—é? –≠—Ç–æ –∫–∞–∫ –æ–±—ä—è—Ç–∏—è. –¢–æ–ª—å–∫–æ –≤ —á–∞—à–∫–µ. (–ú–µ–Ω—Ç–∞–ª–∏—Å—Ç)'
                    break
                case 130:
                    achivement = '–¢–∞–∫–∏–µ –Ω—ã–Ω—á–µ –≤—Ä–µ–º–µ–Ω–∞, ‚Äî –∏–∑—Ä—ë–∫ –º–∏—Å—Ç–µ—Ä –ù–æ—Ä—Ä–∏—Å, –ø—Ä–∏–Ω—è–≤ —á–∞—à–∫—É —á–∞—è, ‚Äî —Ç–µ–±–µ –º–µ—à–∞—é—Ç –∂–∏—Ç—å, –∞ —Ç—ã –º–µ—à–∞–µ—à—å –ª–æ–∂–µ—á–∫–æ–π —á–∞–π.'
                    break
                case 140:
                    achivement = '–ù–µ –ø–µ–π —á–∞–π —Ç–∞–º, –≥–¥–µ —Ç–µ–±—è –Ω–µ–Ω–∞–≤–∏–¥—è—Ç.'
                    break
                case 150:
                    achivement = '"–Ø –¥–æ–ª–∂–µ–Ω –±—ã–ª –ø–∏—Ç—å –º–Ω–æ–≥–æ —á–∞—è, –∏–±–æ –±–µ–∑ –Ω–µ–≥–æ –Ω–µ –º–æ–≥ —Ä–∞–±–æ—Ç–∞—Ç—å. –ß–∞–π –≤—ã—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥—Ä–µ–º–ª—é—Ç –≤ –≥–ª—É–±–∏–Ω–µ –º–æ–µ–π –¥—É—à–∏." –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π'
                    break
                case 200:
                    achivement = '–ü–æ—Ä–∞ –∑–∞–≤–æ–¥–∏—Ç—å —á–∞–µ–≥–æ–Ω–Ω—ã–π –∞–ø–ø–∞—Ä—Ç –Ω–∞ 60 –ª–∏—Ç—Ä–æ–≤.'
                    break
                case 210:
                    achivement = '–°–æ–±–∏—Ä–∞—è —á–∞–π–Ω—ã–µ –ª–∏—Å—Ç—å—è –Ω–∞ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏ –õ–∏–ø—Ç–æ–Ω–∞, –∏–Ω–¥—É—Å –ú–æ—Ö–∞–º–º–µ–¥ –¥–∞–∂–µ –Ω–µ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ—Ç, —á—Ç–æ –æ–Ω —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –±–µ—Ä–µ–∂–Ω–æ –∏ —Å –ª—é–±–æ–≤—å—é.'
                    break
                case 220:
                    achivement = '‚Äî –ê –º–æ–∂–µ—Ç –∑–∞–π–¥—ë–º –∫–æ –º–Ω–µ –Ω–∞ —á–∞–π?\n‚Äî –¢–æ–ª—å–∫–æ –Ω–∞ —á–∞–π?\n‚Äî –ù–µ—Ç... –µ—â—ë –Ω–∞ –≤–∞—Ä–µ–Ω—å–µ.'
                    break
                case 230:
                    achivement = '–ß–∞–π. –ñ–∏–∑–Ω—å, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤—ã–Ω–æ—Å–∏–º–æ–π –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —É –Ω–∞—Å –ø–æ—è–≤–∏–ª—Å—è —á–∞–π. –ê–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ—Å–Ω–æ—Å–Ω–æ–π. –ù–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ª—é–¥–∏ –≤–æ–æ–±—â–µ –º–æ–≥–ª–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ —á–∞—è.'
                    break
                case 240:
                    achivement = '‚Äî –ö–∞–∫ —Ç—ã —Å–∫–∞–∂–µ—à—å: ¬´Gimme a coffee¬ª, ¬´Can I get a coffee¬ª, ¬´You wanna gimme a coffee¬ª –∏–ª–∏ ¬´May I have a coffee, please? Not hurry. When you‚Äôve got a moment¬ª?\n‚Äî –≠—Ç–æ –≤–æ–ø—Ä–æ—Å —Å –ø–æ–¥–≤–æ—Ö–æ–º, –Ω–µ —Ç–∞–∫ –ª–∏? –Ø –ø—Ä–µ–¥–ø–æ—á—Ç—É —á–∞–π.'
                    break
                case 250:
                    achivement = '–¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Å—Ç–æ–∏—Ç–µ –∏–∑ —á–∞—è.'
                    break
                case 260:
                    achivement = '–ü–∏—Å–∞—Ç–µ–ª–∏ –æ–±–æ–∂–∞—é—Ç –ø–∏—Ç—å –∫–æ—Ñ–µ, –º–Ω–æ–≥–∏–µ ‚Äî –ø–∏—Ç—å —á–∞–π. –¢–∞–∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤—Å–µ–º —Å–ø–∏–≤–∞—é—Ç—Å—è.'
                    break
                case 270:
                    achivement = '‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ —á–∞–π?\n‚Äî –û, –≤—Ä–µ–¥–Ω—ã–π –Ω–∞—Å—Ç–æ–π –≤–æ—Å—Ç–æ—á–Ω—ã—Ö –ª–∏—Å—Ç—å–µ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç —è–¥–æ–≤–∏—Ç–æ–π –∫–∏—Å–ª–æ—Ç—ã.\n‚Äî –ü–æ—Ö–æ–∂–µ, –¥—É—Ä–Ω–æ–π –Ω–∞–ø–∏—Ç–æ–∫, –Ω–µ —Ç–∞–∫ –ª–∏?\n‚Äî –î–∞. –õ–∏—á–Ω–æ –º–Ω–µ –≤–µ—Å—å–º–∞ –Ω—Ä–∞–≤–∏—Ç—Å—è.'
                    break
                case 280:
                    achivement = '–ó–µ–ª—ë–Ω—ã—Ö —á–∞–µ–≤ –æ–Ω–∞ –Ω–µ –ø—Ä–∏–∑–Ω–∞–≤–∞–ª–∞, –µ—â—ë –±–æ–ª–µ–µ –ø—Ä–µ–∑–∏—Ä–∞–ª–∞ —Ç—Ä–∞–≤—è–Ω—ã–µ –Ω–∞—Å—Ç–æ–∏, –ø–æ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—é –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ —á–∞—è–º–∏. –ß–∞–π –≤ –µ—ë –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã–ª –±—ã—Ç—å —á—ë—Ä–Ω—ã–º, –∫–∞–∫ –¥—ë–≥–æ—Ç—å, –∏ –∫—Ä–µ–ø–∫–∏–º, –∫–∞–∫ —Å–æ–≤–µ—Å—Ç—å –≥—Ä–µ—à–Ω–∏–∫–∞.\n–ù—É –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. –ß—ë—Ä–Ω—ã–º, –∫–∞–∫ —Å–æ–≤–µ—Å—Ç—å, –∏ –∫—Ä–µ–ø–∫–∏–º, –∫–∞–∫ –¥—ë–≥–æ—Ç—å.'
                    break
                case 290:
                    achivement = '–í–µ—Å—å –¥–µ–Ω—å —Å–ø–æ—Ä–∏–ª–∏, —Å —á–µ–≥–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —É—Ç—Ä–æ. –•–∞–ª–∫ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ —Å –∫–æ—Ñ–µ, —è ‚Äî —á—Ç–æ —Å —á–∞—è. –ü—Ä–∏—à–µ–ª –ö–æ—Ç –∏ —Å–∫–∞–∑–∞–ª, —á—Ç–æ —É—Ç—Ä–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å ¬´–£¬ª.'
                    break
                case 300:
                    achivement = '–•–≤–∞—Ç–∏—Ç —á—Ç–æ–±—ã –Ω–∞–ø–æ–ª–Ω–∏—Ç—å —Å—Ç–∏—Ä–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É. –ß–∞–µ–º, –∫–æ–Ω–µ—á–Ω–æ –∂–µ.'
                    break
                case 360:
                    achivement = '–ö–æ–≥–¥–∞ –∏—Å—á–µ–∑–Ω–µ—Ç –ë—Ä–∏—Ç–∞–Ω—Å–∫–∞—è –∏–º–ø–µ—Ä–∏—è, –∏—Å—Ç–æ—Ä–∏–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∞—Ç, —á—Ç–æ –æ–Ω–∞ —Å–¥–µ–ª–∞–ª–∞ –¥–≤–∞ –Ω–µ–æ—Ü–µ–Ω–∏–º—ã—Ö –≤–∫–ª–∞–¥–∞ –≤ —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—é ‚Äî —á–∞–π–Ω—ã–π —Ä–∏—Ç—É–∞–ª –∏ –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–æ–º–∞–Ω'
                    break
                case 370:
                    achivement = '–ù–µ–ø—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–µ–π —á–∞—é. –ß–∞–π –∑–¥–µ—Å—å –æ—Ç–ª–∏—á–Ω—ã–π. –ò–Ω–¥–∏–π—Å–∫–∏–π, —Ä–∞–∑—É–º–µ–µ—Ç—Å—è. –ú–æ–∂–µ—Ç, –º—ã —Å –Ω–∏–º–∏ –∏ –≤–æ—é–µ–º, –Ω–æ —á–∞–π –æ–Ω–∏ –¥–µ–ª–∞—é—Ç —Å–∞–º—ã–π –ª—É—á—à–∏–π'
                    break
                case 380:
                    achivement = '‚Äï –Ø —É–∂–µ –æ—Ç—á–∞—è–ª–∞—Å—å...\n‚Äï –û—Ç—á–∞—è–ª–∞—Å—å? ‚Äì –ø–æ–≤—Ç–æ—Ä–∏–ª–∞ –æ–Ω–∞. ‚Äì –†–∞–∑–≤–µ —Ç—ã –ø—å–µ—à—å —á–∞–π, –∞ –Ω–µ –º–æ–ª–æ–∫–æ? –ù–µ –∑–Ω–∞—é, –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ –ø–∏—Ç—å —á–∞–π! –î–∞ –µ—â–µ —É—Ç—Ä–æ–º!'
                    break
                case 390:
                    achivement = '–ü–µ—á–∞–ª—å –¥–µ–ª–∞–µ—Ç —á–∞–π –≤–∫—É—Å–Ω–µ–µ.'
                    break
                case 400:
                    achivement = '–í—Å—è–∫–∏–π –∑–Ω–∞–µ—Ç, —á—Ç–æ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ–Ω—É—Å–∞ –∏ –ø–æ–¥–Ω—è—Ç–∏—è —É–ø–∞–≤—à–µ–≥–æ –¥—É—Ö–∞ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –ª—É—á—à–µ —á–∞—à–µ—á–∫–∏ —á–∞—è, –≤ —á—ë–º —Å—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ –Ω–∞—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –∫–∞–∫ –∑–∞–ø–∞–¥–Ω—ã–µ, —Ç–∞–∫ –∏ –≤–æ—Å—Ç–æ—á–Ω—ã–µ.'
                    break
                case 410:
                    achivement = '–ê –∏–º–ø–µ—Ä–∞—Ç–æ—Ä —Å —Å–µ–º—å–µ–π —á–∞–π –ø—å—é—Ç. –°–∞–º–æ–≤–∞—Ä –º–∞—Ç–µ—Ä—É—â–∏–π, –∞—Ä—Ç–µ–ª—å–Ω—ã–π. –£ –∫–∞–∂–Ω–æ–≥—É –ø—Ä–∏–±–æ—Ä—É —Å–∏—Ç–Ω–æ–≥–æ —Ñ—É–Ω—Ç–∞ –ø–æ —Ç—Ä–∏. –•–∞—Ä—á–µ–π –º–Ω–æ–≥–æ!'
                    break
                case 420:
                    achivement = '–ß–∞–π –Ω–∞—á–∏–Ω–∞–ª—Å—è –∫–∞–∫ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ –∏ –≤—ã—Ä–æ—Å –¥–æ –Ω–∞–ø–∏—Ç–∫–∞.'
                    break
                case 430:
                    achivement = '–ï—Å–ª–∏ –≤–∞–º —Ö–æ–ª–æ–¥–Ω–æ, —á–∞–π –≤–∞—Å —Å–æ–≥—Ä–µ–µ—Ç; –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –∂–∞—Ä–∫–æ, —á–∞–π –≤–∞—Å –æ—Ö–ª–∞–¥–∏—Ç; –µ—Å–ª–∏ –≤—ã –æ–≥–æ—Ä—á–µ–Ω—ã, –æ–Ω –ø–æ–¥–±–æ–¥—Ä–∏—Ç –≤–∞—Å; –µ—Å–ª–∏ –≤–æ–∑–±—É–∂–¥–µ–Ω—ã - —É—Å–ø–æ–∫–æ–∏—Ç.'
                    break
                case 440:
                    achivement = '–ì–æ—Ä—è—á–∏–π —á–∞–π –Ω–µ —Ä–µ—à–∏—Ç –≤–∞—à–∏—Ö –ø—Ä–æ–±–ª–µ–º.\n–ù–æ –æ–Ω —Å–¥–µ–ª–∞–µ—Ç –≤–∞—à—É –∂–∏–∑–Ω—å –Ω–∞ –≥—Ä–∞–¥—É—Å –ø—Ä–∏—è—Ç–Ω–µ–µ.'
                    break
                case 450:
                    achivement = '–ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å —Å—á–∞—Å—Ç—å–µ:—Ü–≤–µ—Ç—ã –∏ —á–∞—à–µ—á–∫–∞ –ª—é–±–∏–º–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞.'
                    break
                case 460:
                    achivement = '–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á–∞–π ‚Äî —ç—Ç–æ —É –Ω–∞—Å –≤—Ä–æ–∂–¥–µ–Ω–Ω–æ–µ? –£ —Ä—É—Å—Å–∫–∏—Ö –µ—Å—Ç—å –≤–æ–¥–∫–∞, —É —Ñ—Ä–∞–Ω—Ü—É–∑–æ–≤ ‚Äî —Å–µ–∫—Å. –ú—ã, –±—Ä–∏—Ç–∞–Ω—Ü—ã, –Ω–∞—Ö–æ–¥–∏–º —É—Å–ø–æ–∫–æ–µ–Ω–∏–µ –Ω–∞ –¥–Ω–µ –∑–∞–≤–∞—Ä–æ—á–Ω–æ–≥–æ —á–∞–π–Ω–∏–∫–∞.'
                    break
                case 470:
                    achivement = '‚Äî –ö–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å, –æ–Ω–∏ —É–∂–µ –∑–∞—Ö–ª–µ–±–Ω—É–ª–∏—Å—å? ‚Äî –¥–æ–ø–∏–≤–∞—è —É–∂–µ —á–µ—Ç–≤—ë—Ä—Ç—É—é –∫—Ä—É–∂–∫—É —á–∞—è —Å–ø—Ä–æ—Å–∏–ª–∞ —è\n‚Äî –ù–µ –∑–Ω–∞—é.. ‚Äî —Ç—ã –ø–æ–∂–∞–ª –ø–ª–µ—á–∞–º–∏, ‚Äî –∞ –≤ —Ç–µ–±—è –≤–ª–µ–∑–µ—Ç –µ—â—ë –∫—Ä—É–∂–∫–∞?\n‚Äî –ù–µ–∞, ‚Äî –ø–æ–º–æ—Ç–∞–ª–∞ —è –≥–æ–ª–æ–≤–æ–π ‚Äî —É–∂–µ –Ω–µ—Ç –Ω–∞–≤–µ—Ä–Ω–æ, –Ω—É –∞ –µ—Å–ª–∏ –∏ –≤–ª–µ–∑–µ—Ç ‚Äî —Ç–æ –∏–∑ —É—à–µ–π —Ç–æ—á–Ω–æ —É–∂–µ –ø–æ–±–µ–≥—É—Ç —Ä—É—á–µ–π–∫–∏‚Ä¶\n–ó–∞–ª–∏–≤–∞—Ç—å –æ–±–∏–¥—ã —á–∞–µ–º ‚Äî –±—ã–ª–æ —Å—Ç—Ä–∞–Ω–Ω–æ–π –∏–¥–µ–µ–π‚Ä¶\n—Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã ‚Äî –Ω—É –Ω–µ –∞–ª–∫–æ–≥–æ–ª–µ–º –∂–µ ‚Äî –æ–Ω –Ω–µ–≥–æ –æ–±–∏–¥—ã —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ç—É—Ç –∏ –∫—Ä–µ–ø–Ω—É—Ç‚Ä¶\n–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ —á–∞–π ‚Äî —ç—Ç–æ –ª—É—á—à–µ, –ø–æ–∂–∞–ª—É–π, —á–µ–º –≤—ã—è—Å–Ω—è—Ç—å –∫—Ç–æ –ø—Ä–∞–≤, –∞ –∫—Ç–æ –Ω–µ—Ç\n–í–∫—É—Å–Ω–µ–µ —Ç–æ—á–Ω–æ, –∞ –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –≥–ª–∞–∑–∞ ‚Äî —Ç–æ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —á–∞–π–Ω–æ–µ –æ–∑–µ—Ä–æ, –∫–∞–∫ –≤ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ\n–ø—É—Å—Ç—å –∏ —Å –ø–æ–º–µ—Ö–∞–º–∏ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –º—ã—Å–ª–µ–π‚Ä¶\n–¢—ã –ø–æ—Å–º–æ—Ç—Ä–µ–ª –Ω–∞ –º–µ–Ω—è –æ—á–µ–Ω—å —Å–µ—Ä—å—ë–∑–Ω–æ –∏ –ø—Ä–æ—Ç—è–Ω—É–ª –∫–æ–Ω—Ñ–µ—Ç—É:\n‚Äî –ù—É —á—Ç–æ, —Å–∞–º–æ–µ –≤—Ä–µ–º—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–π –∫–æ—Ä–∞–±–ª–∏–∫.'
                    break
                case 500:
                    achivement = '–ß–∞–π. –ñ–∏–∑–Ω—å, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤—ã–Ω–æ—Å–∏–º–æ–π –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —É –Ω–∞—Å –ø–æ—è–≤–∏–ª—Å—è —á–∞–π. –ê–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ—Å–Ω–æ—Å–Ω–æ–π. –ù–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ª—é–¥–∏ –≤–æ–æ–±—â–µ –º–æ–≥–ª–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ —á–∞—è.'
                    break
                case 1337:
                    achivement = '31337 t34'
                    break
            }
            break

        case 'coffee':
            drinksCounters.coffee += 1
            drink = '–∫—Ñ–µ'
            count = drinksCounters.coffee
            emoji = COFFEE_EMOJIS[0]
            switch (count) {
                case 1:
                    achivement = '–ù–∞ —ç—Ç–æ–º —Ç—ã –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è. –¢–∞–∫ –º–Ω–µ —Å–∫–∞–∑–∞–ª –º–æ–π –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç.'
                    break
                case 50:
                    achivement = 'What is this, a coffee episode?'
                    break
                case 60:
                    achivement = '–ù–∏—á—Ç–æ –Ω–∞ —Å–≤–µ—Ç–µ –Ω–µ –¥–∞—ë—Ç—Å—è –¥–∞—Ä–æ–º. –î–∞–∂–µ –∫–æ—Ñ–µ.'
                    break
                case 70:
                    achivement = 'Go beyond! Plus coffee'
                    break
                case 80:
                    achivement = 'I can\'t go on like this. I\'ll drink coffee!'
                    break
                case 90:
                    achivement = 'More importantly, where\'s coffee!?'
                    break
                case 100:
                    achivement = '–¢—ã –≤—ã–ø–∏–ª 100 —á–∞—à–µ–∫ –∫–æ—Ñ–µ? –ö–∞–∫ –º–∏–ª–æ'
                    break
                case 150:
                    achivement = '–í–æ-–ø–µ—Ä–≤—ã—Ö, —É —Ç–µ–±—è –ª–∏—à—å —Å—Ç–æ –ø—è—Ç—å–¥–µ—Å—è—Ç —á–∞—à–µ–∫ –∫–æ—Ñ–µ. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –¥–µ–ª–∞–π, –∫–∞–∫ —è –≥–æ–≤–æ—Ä—é, –∏ –Ω–µ –≤–∑–¥—É–º–∞–π –ø–∏—Ç—å –º–µ–Ω—å—à–µ –∫–æ—Ñ–µ. –í-—Ç—Ä–µ—Ç—å–∏—Ö, —á—Ç–æ –±—ã –Ω–∏ –±—ã–ª–æ –≤ –ø—Ä–æ—à–ª–æ–º, —á–∞—à–∫–∏ —á–∞—è —Ç–µ–±—è –Ω–µ –∫–∞—Å–∞—é—Ç—Å—è'
                    break
                case 200:
                    achivement = '–°–ª–æ–º–∞–π —Å–∏—Å—Ç–µ–º—É, –ø–æ—Å–º–æ—Ç—Ä–∏ –∞–Ω–∏–º–µ, –≥–¥–µ –º–∏–ª—ã–µ –¥–µ–≤–æ—á–∫–∏ –ø—å—é—Ç –∫—Ñ–µ.'
                    break
                case 250:
                    achivement = 'Wonder Coffee Priority'
                    break
                case 300:
                    achivement = 'Half human, half coffee, completely awesome.'
                    break
                case 1300:
                    achivement = '–≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á—Ç–æ–±—ã –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –≤–∞–Ω–Ω—É!'
                    break
            }
            break

        case 'alco':
            drinksCounters.alco += 1
            drink = '–∞–ª–∫'
            count = drinksCounters.alco
            emoji = ALCO_EMOJIS[0]
            switch (count) {
                case 1:
                    achivement = '–ù–∞ —ç—Ç–æ–º —Ç—ã –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è. –¢–∞–∫ –º–Ω–µ —Å–∫–∞–∑–∞–ª –º–æ–π –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç.'
                    break
                case 5:
                    achivement = '–í —Ä–∞—é –Ω–µ—Ç –ø–∏–≤–∞, –ø–æ—ç—Ç–æ–º—É –º—ã –ø—å—ë–º –µ–≥–æ –Ω–∞ —ç—Ç–æ–π –≥—Ä–µ—à–Ω–æ–π –∑–µ–º–ª–µ.'
                    break
                case 10:
                    achivement = '–•–æ—Ä–æ—à–∏–µ –ª—é–¥–∏ –ø—å—é—Ç —Ö–æ—Ä–æ—à–µ–µ –ø–∏–≤–æ.'
                    break
                case 20:
                    achivement = '–Ø –Ω–µ –≤–µ—Ä—é –Ω–∏ –≤–æ —á—Ç–æ, –∫—Ä–æ–º–µ –ª—é–±–≤–∏. –ò –ø–∏–≤–∞.'
                    break
                case 30:
                    achivement = '–Ø –≤–æ–æ–±—â–µ –Ω–µ –ø—å—é –º–æ–ª–æ–∫–æ. –ú–æ–ª–æ–∫–æ —ç—Ç–æ –¥–ª—è –º–ª–∞–¥–µ–Ω—Ü–µ–≤, –∞ –∫–æ–≥–¥–∞ –≤—ã—Ä–∞—Å—Ç–∞–µ—à—å –Ω—É–∂–Ω–æ –ø–∏—Ç—å –ø–∏–≤–æ.'
                    break
                case 40:
                    achivement = '–î—É—Ä–∞–∫–∏ —É—á–∞—Ç—Å—è –Ω–∞ —Å–≤–æ–∏—Ö –æ—à–∏–±–∫–∞—Ö, —É–º–Ω—ã–µ –Ω–∞ —á—É–∂–∏—Ö, –∞ –º—É–¥—Ä—ã–µ —Å–º–æ—Ç—Ä—è—Ç –Ω–∞ –Ω–∏—Ö –∏ –Ω–µ —Å–ø–µ—à–∞ –ø—å—é—Ç –ø–∏–≤–æ.'
                    break
                case 50:
                    achivement = '–õ—é–±–ª—é –ø–∏—Å–∞—Ç—å –ø–µ—Å–Ω–∏. –õ—é–±–ª—é, –∫–æ–≥–¥–∞ –º–µ–Ω—è –æ–∫—Ä—É–∂–∞—é—Ç –Ω–∞—Å—Ç–æ—è—â–∏–µ –¥—Ä—É–∑—å—è. –õ—é–±–ª—é –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å. –ò –ª—é–±–ª—é –∏–≥—Ä–∞—Ç—å –Ω–∞ –≥–∏—Ç–∞—Ä–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ª—é–±–ª—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –ø–∏–≤–æ.'
                    break
                case 60:
                    achivement = '–í—ã –±–æ–∏—Ç–µ—Å—å —É–º–∏—Ä–∞—Ç—å?\n‚Äî –ö—Ç–æ ‚Äî —è? –ù—É —É–∂ –Ω–µ—Ç! –Ø —Ç–∞–∫ –±–ª–∏–∑–∫–æ –∫ —Å–º–µ—Ä—Ç–∏ –ø–æ–¥—Ö–æ–¥–∏–ª –ø–∞—Ä—É —Ä–∞–∑, —á—Ç–æ –Ω–µ –±–æ—é—Å—å. –ö–æ–≥–¥–∞ –∫ –Ω–µ–π —Ç–∞–∫ –±–ª–∏–∑–∫–æ, —Ç–µ–±–µ, –ø–æ–∂–∞–ª—É–π, –¥–∞–∂–µ —Ö–æ—Ä–æ—à–æ. –¢—ã –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫–æ–π: ¬´–ù—É –ª–∞–¥–Ω–æ, –ª–∞–¥–Ω–æ¬ª. –û—Å–æ–±–µ–Ω–Ω–æ, –ø–æ-–º–æ–µ–º—É, –µ—Å–ª–∏ –≤ –ë–æ–≥–∞ –Ω–µ –≤–µ—Ä–∏—à—å, —Ç–µ–±—è –Ω–µ –≤–æ–ª–Ω—É–µ—Ç, –∫—É–¥–∞ –ø–æ–ø–∞–¥—ë—à—å ‚Äî –≤ —Ä–∞–π –∏–ª–∏ –∞–¥, –∏ —Ç—ã –ø—Ä–æ—Å—Ç–æ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ—à—å –≤—Å—ë, —á–µ–º –∑–∞–Ω–∏–º–∞–ª—Å—è. –ì—Ä—è–¥—ë—Ç –∫–∞–∫–∞—è-—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–∞, –Ω–æ–≤–æ–µ –∫–∏–Ω–æ –ø–æ–∫–∞–∂—É—Ç, –ø–æ—ç—Ç–æ–º—É, —á—Ç–æ –±—ã —Ç–∞–º –Ω–∏ –±—ã–ª–æ, —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å: ¬´–õ–∞–¥–Ω–æ¬ª. –ö–æ–≥–¥–∞ –º–Ω–µ –±—ã–ª–æ —Ç—Ä–∏–¥—Ü–∞—Ç—å –ø—è—Ç—å, –º–µ–Ω—è –≤ –±–æ–ª—å–Ω–∏—Ü–µ –æ–±—ä—è–≤–∏–ª–∏ –ø–æ–∫–æ–π–Ω–∏–∫–æ–º. –ê —è –Ω–µ —É–º–µ—Ä. –Ø –≤—ã—à–µ–ª –∏–∑ –±–æ–ª—å–Ω–∏—Ü—ã ‚Äî –ø—Ä–∏—á—ë–º –º–Ω–µ –≤–µ–ª–µ–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –±–æ–ª—å—à–µ –Ω–µ –ø–∏—Ç—å, –∏–ª–∏ —è —Ç–æ—á–Ω–æ —É–º—Ä—É, ‚Äî –∏ –ø—Ä—è–º—ã–º —Ö–æ–¥–æ–º –æ—Ç–ø—Ä–∞–≤–∏–ª—Å—è –≤ –±–∞—Ä, –≥–¥–µ –∏ –≤—ã–ø–∏–ª –ø–∏–≤–∞. –ù–µ—Ç, –¥–≤–∞ –ø–∏–≤–∞!'
                    break
                case 70:
                    achivement = '17 –∏—é–Ω—è. <‚Ä¶> –í–¥–æ–ª—å –†–µ–π–Ω–∞. –í—Å–ø–æ–º–∏–Ω–∞–ª –ª–µ—Ç–Ω—é—é –ø–æ–µ–∑–¥–∫—É. –î–≤–µ –µ–¥—ã, —á–∞—Å—Ç—ã–µ –≤—ã–ø–∏–≤–∫–∏ –∫–æ—Ñ–µ –∏ –ø–∏–≤–∞, —á—Ç–æ–±—ã —É–±–∏—Ç—å –≤—Ä–µ–º—è –∏ —Ç–æ—Å–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–º –±–æ–ª–µ–µ –¥—É—à–∏–ª–∞, —á—Ç–æ –∫–Ω–∏–≥–∞ –ø–æ–ø–∞–ª–∞—Å—å –ø–æ–¥–ª–∞—è La terre Zola. –Ø —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–Ω–∞–≤–∏–∂—É —ç—Ç–æ–≥–æ —Å–∫–æ—Ç–∞, –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ –≤–µ—Å—å –µ–≥–æ —Ç–∞–ª–∞–Ω—Ç.'
                    break
                case 80:
                    achivement = '–Ø –Ω–µ —Ç–æ—Ä–≥—É—é –Ω–∏ –≥–∞–∑–æ–º, –Ω–∏ –æ–≥—É—Ä—Ü–∞–º–∏, –Ω–∏ –ø–∏–≤–æ–º, –Ω–∏ —Å–∞–ª–æ–º ‚Äî –Ω–∏—á–µ–º. –í–æ—Ç —ç—Ç–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å. –û–Ω–∏ —Ç–∞–º –º–µ–∂–¥—É —Å–æ–±–æ–π –¥–æ–ª–∂–Ω—ã –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è. –ù–æ —Ü–µ–Ω–∞, –∫–æ–Ω–µ—á–Ω–æ, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä—ã–Ω–æ—á–Ω–æ–π. –≠—Ç–æ –æ—á–µ–≤–∏–¥–Ω–æ.'
                    break
                case 90:
                    achivement = '–í –±–æ–ª—å–Ω–∏—Ü–µ –ò–Ω—Å—Ç–∏—Ç—É—Ç–∞ –ë–ª–æ—Ö–∏–Ω–∞ –°–≤–µ—Ç–ª–æ–≤ —É–º–∏—Ä–∞–ª –æ—Ç —Ä–∞–∫–∞. –ù–µ —Å—Ç–∞–ª –ø–∏—Ç—å –ø—Ä–∏–Ω–µ—Å—ë–Ω–Ω—ã–π –∫–æ–Ω—å—è–∫ –∏ —Å–∫–∞–∑–∞–ª –≥—Ä—É—Å—Ç–Ω–æ: ¬´–ö —Ä–∞–∫—É –ø–∏–≤–æ –Ω–∞–¥–æ‚Ä¶¬ª'
                    break
                case 100:
                    achivement = '–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ! –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–¥—É–≥–∞–¥–∞—Ç—å —ç—Ç–æ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª! –û–Ω–∞ —Å–∏–¥–∏—Ç —É—Ç—Ä–æ–º, –±–ª–µ–¥–Ω–∞—è, –æ–±—Ö–≤–∞—Ç–∏–≤ –≥–æ–ª–æ–≤—É —Ä—É–∫–∞–º–∏, –≤–∑–¥—ã—Ö–∞–µ—Ç:\n‚Äî –û–π, –∫–∞–∫ –º–Ω–µ –ø–ª–æ—Ö–æ‚Ä¶ –í—á–µ—Ä–∞ –ø–∏–ª–∏ –≤–æ–¥–∫—É, –ø–æ—Ç–æ–º –ø–∏–≤–æ, –ø–æ—Ç–æ–º –∫–æ–Ω—å—è–∫‚Ä¶ –ù–∞–≤–µ—Ä–Ω–æ–µ, –≤–∏–Ω–µ–≥—Ä–µ—Ç–æ–º –æ—Ç—Ä–∞–≤–∏–ª–∞—Å—å.'
                    break
            }
            break
    }

    await drinksCounters.toFile('data/drinks.json')
    await ctx.reply(`–ü—Ä–∏—è—Ç–Ω–æ–≥–æ! –ü–æ–ø–∏–ª–∏ ${drink} ${count} ${pluralize(count, '—Ä–∞–∑', '—Ä–∞–∑–∞', '—Ä–∞–∑')}  ${emoji}\n${achivement}`)
})

quoted.hears(/–†—É–±–∏,? —á—Ç–æ —Ç—ã —É–º–µ–µ—à—å\??/i, ctx => ctx.reply(`
–Ø –≤—Å—ë —É–º–µ—é!
1. –ú–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∞–Ω–∏–º–µ –æ—Ç –ª–∏—Ü–∞ –¢–æ–∫—É —á–µ—Ä–µ–∑ /recommend
2. –ï—Å–ª–∏ –≤—ã —É–∂–µ –≤—Å—ë –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –æ—Ç—Ç—É–¥–∞, —Ç–æ –º–æ–≥—É –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∏–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ /recommendExtended
3. –£–≤–µ–¥–æ–º–ª—è—é –≤—Å–µ—Ö –ª—é–±–∏–º–æ–∫ –≤ –¢–æ–∫—É—á–∞—Ç–µ –æ–± –≤—ã—Ö–æ–¥–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–∏–π –∏—Ö –∞–Ω–∏–º–µ. –ê –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –∞–Ω–∏–º–µ –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —è –Ω–∞–±–ª—é–¥–∞—é –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É /observed
4. –¢—ã —É–º–Ω–∏—á–∫–∞!
5. –í–æ–æ–±—â–µ-—Ç–æ —è —É–º–µ—é –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –µ—Å—Ç—å –ª–∏ –∞–Ω–∏–º–µ –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–≥–æ —É –¢–æ–∫—É —á–µ—Ä–µ–∑ /hastokuwatched (–Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ). –ù–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏...
7. –ú–æ–≥—É –ø–æ—Ö–≤–∞–ª–∏—Ç—å —Ç–µ–±—è. –ò–Ω–æ–≥–¥–∞. –ö–∞–∫ —è —Å–¥–µ–ª–∞–ª–∞ –≤ –ø—É–Ω–∫—Ç–µ 4
8. –ü–æ–º–æ–≥–∞—é –¢–æ–∫—É –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –ø–æ—Å—Ç–∏—Ç—å –Ω–∞ —é–±—É–±
9. –ù—É –∏ –¥–∞–∂–µ –Ω–µ –¥—É–º–∞–π –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—å –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∑–¥–µ—Å—å, —è —Ç–µ–±—è –Ω–∞–π–¥—É –∏ —É–Ω–∏—á—Ç–æ–∂—É
10. –¢—ã –∑–∞–º–µ—Ç–∏–ª —á—Ç–æ —Ç—É—Ç –Ω–µ—Ç –ø—É–Ω–∫—Ç–∞ 6? –ù–∞ —Å–ø–∞—Å–∏–±–æ —è –æ—Ç–≤–µ—á—É "–ø–æ–∂–∞–ª—É–π—Å—Ç–∞", –Ω–æ —Å—Ç–∏–∫–µ—Ä–æ–º :3
11. –ò–Ω–æ–≥–¥–∞ —è –ø—Ä–æ–≤–æ–∂—É –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∑–∞ —Ç–∞–π—Ç–ª—ã... –≤–æ–∑–º–æ–∂–Ω–æ –¥–∞–∂–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å. –ù–∞–ø–∏—à–∏ –º–Ω–µ –≤ –ª–∏—á–∫—É /startvoting
12. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å, —è –æ—Ç–ø—Ä–∞–≤–ª—è—é –∫–∞—Ä—Ç–∏–Ω–∫—É —Å BRS
13. –£ –º–µ–Ω—è –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - –ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π /backarrow –∏ —è —Å–¥–µ–ª–∞—é –≤—Å—ë —á—Ç–æ –º–æ–≥—É
14. –ï—â—ë —É –º–µ–Ω—è –≥–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ –µ—Å—Ç—å –±—Ä–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ñ–∞—Ç–∞–ª—å–Ω–æ–π –æ—à–∏–±–∫–µ... –Ω–æ –µ–≥–æ –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–µ–ª
15. –î–µ–ª—É –≤—Ä–µ–º—è - –ø–æ—Ç–µ—Ö–µ 10 —Ñ—É–Ω–∫—Ü–∏–π. –Ø —É–º–µ—é —Å—á–∏—Ç–∞—Ç—å –≤—ã–ø–∏—Ç—ã–µ —á–∞–∏, –∫—Ñ–µ –∏ –∞–ª–∫
16. –ù–∏ –æ–¥–∏–Ω –ø–∞—Ç–∞–ª–æ–∫ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω! –§–∏—Ä–º–µ–Ω–Ω–∞—è –º–µ–ª–æ–¥–∏—è –¥–æ–ª–∂–Ω–∞ –∏–≥—Ä–∞—Ç—å –≤—Å–µ–≥–¥–∞ –Ω–∞ –ø–∞—Ç–∞–ª–æ–∫.—Ñ–º
17. –¢—Ä–∏–≥–≥–µ—Ä, –∞–∫—Ç–∏–≤–∞—Ü–∏—è... –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Ç–∏–∫–µ—Ä–∞
18. –ü–æ–Ω
19. –°–∫–∞–∂–∏ "–∞–ª–æ" –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å –ù–∞–¥–µ–∫–æ
20. –ù–µ –Ω–∞–¥–æ –æ—Ç–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –º–µ–Ω—è –Ω–µ –µ—Å—Ç—å. –ù–∞ –ª—é–±–æ–µ "–Ω–µ –µ—à—å" —É –º–µ–Ω—è –µ—Å—Ç—å —Ç–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç
21. –°–ª–æ–≤–æ "–±–∞–Ω" –±—É–¥–µ—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å—Å—è –∫—Ä–∞—Å–∏–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π... –Ω–æ –ª–∏—à—å —É –∞–¥–º–∏–Ω–æ–≤
22. –ù–∞–ø–∏—à–∏ "–†—É–±–∏, –• –∏–ª–∏ –£?" —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É –• –∏ –£.
23. "–∑–∞–≤—Ç—Ä–∞" —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –º–æ—â–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä
24. –î—Ä–∞–≥–æ–Ω–±–æ–ª–ª –∏ 86 –∑–∞—Å–ª—É–∂–∏–≤–∞—é—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
25. –ö–∞–∂–¥–æ–µ "–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ" –±—É–¥–µ—Ç –æ—Ç–º–µ—á–µ–Ω–æ
26. –ê –µ—â—ë —Ç—ã –º–µ–Ω—è –º–æ–∂–µ—à—å –ø–æ–ø—Ä–æ—Å–∏—Ç—å –º—è—É–∫–Ω—É—Ç—å —á–µ—Ä–µ–∑ "–†—É–±–∏ –º—è—É"
`))

type Counters = 'tea' | 'coffee' | 'alco'

function classifySticker(sticker: Sticker): Counters | null {
    const { file_unique_id } = sticker

    if (TEA_STICKERS.includes(file_unique_id)) {
        return 'tea'
    }

    if (COFFEE_STICKERS.includes(file_unique_id)) {
        return 'coffee'
    }

    if (ALCO_STICKERS.includes(file_unique_id)) {
        return 'alco'
    }

    if (!ENABLE_EMOJI) return null

    const { emoji } = sticker

    if (!emoji) return null

    if (TEA_EMOJIS.includes(emoji)) {
        return 'tea'
    }

    if (COFFEE_EMOJIS.includes(emoji)) {
        return 'coffee'
    }

    if (ALCO_EMOJIS.includes(emoji)) {
        return 'alco'
    }

    return null
}
